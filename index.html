<!DOCTYPE html>
<html lang="en">
<head>
	<title>Кастомные свойства в css</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/ribbon/styles/screen-16x10.css">
	<style>
		.slide {
			padding-top: 30px;
			padding-left:;
		}
		.slide::after {
			right: 10px;
		}
		.slide pre {
			font-size: 20px
		}
	</style>
		<style>
		:root {
			--baseColor: #fff;
		}
		#example1 {
			background: var(--baseColor);
		}
		#example1 .text{
			color: var(--baseColor);
			filter: invert(1);
		}
	</style>
	<script>
	window.onload = () => {
		var styles = getComputedStyle(document.documentElement);
		var inputExample1 = document.getElementById('example1__input');
		inputExample1.addEventListener("change", () => {
			let inputExample1Val = inputExample1.value;
			document.documentElement.style.setProperty('--baseColor', inputExample1Val);
		});
	}
	</script>
</head>
<body class="shower list">
	<header class="caption">
		<h1 >Кастомные свойства в css</h1>
		<p>Alexey Khlebaev</p>
	</header>
	<section class="slide" id="cover">
		<h2 style="    bottom: 20px;
    position: absolute;
    text-align: center;">Кастомные свойства в css</h2>

		<img src="pictures/cover.jpg" alt="" class="cover">
		<!--
			To apply styles to the certain slides
			set slide ID to get needed elements
			-->
		<style>
			#cover h2 {
				margin:30px 0 0;
				color:#FFF;
				text-align:center;
				font-size:70px;
				}
			#cover p {
				margin:10px 0 0;
				text-align:center;
				color:#FFF;
				font-style:italic;
				font-size:20px;
				}
				#cover p a {
					color:#FFF;
					}
		</style>
	</section>
	<section class="slide">
		<h2>Куда катится css?</h2>
			<img class="next cover" 
			style="margin-top: 30px;"
			src="pictures/griffin.gif" alt="css progress" /> 
		
	</section>
	<section class="slide">
		<h2>Куда катится css?</h2>
		<div style="text-align: center" class="note">
			<img src="pictures/progressCss.png" alt="css progress" /> 
		</div>
		<!--
		<div class="note" style="overflow: hidden">
			<img style="width: 200px; float: left;" src="pictures/cofee.png" alt="coffeescript" />  
			<img style="height: 124px;
    margin-left: 100px;
    float: left;
    margin-top: 38px;" src="pictures/js.png" alt="coffeescript" />
		</div>
		<div class="note">
			<img style="width: 200px; float: left; margin-top: 35px;" src="pictures/sass.png" alt="coffeescript" /> 
			<img style="width: 200px; float: left; margin-left: 100px;" src="pictures/css.png" alt="coffeescript" />
		</div>
		-->
	</section>

	<section class="slide" style="color: #fff; font-size: 80px; line-height: 80px; 	display: -webkit-flex;
	display: -ms-flex;
	display: flex;
	-webkit-align-items: center;
	-webkit-box-align: center;
	-ms-flex-align: center;
	align-items: center; padding: 0">
	<style>
	.slide__side-left, .slide__side-right {
		width: 50%; 
		text-align: center;
	}
	.slide__side-left:before, .slide__side-right:before {
		width: 50%;
		height: 100%;
		display: block;
		content: '';
		top: 0;
		z-index: -1;
		position: absolute;
	}
	.slide__side-left:before{
		left: 0;
		background: #ff2400;
	}
	.slide__side-right:before  {
		 background: #ccccff;
		 right: 0;
	}
	#example1__input {
		    height: 38px;
		
	ъ
	}
	</style>
		<div class="slide__side-left"> 
			Custom Properties
		</div>
		<div class="slide__side-right" style="width: 50%;">
				@apply
		</div>

		
	</section>

	<section class="slide" style="background: #ff2400; font-size: 80px; display: flex; align-items: center; ">
		<div> 
			Custom Properties
		</div>		
	</section>  

	<section class="slide" id="example1">
<div class="text">
		<h2>Custom Properties (Css переменные)</h2>

		<ul>
			<li class="next">Прорыв в CSS. Аналогичного функционала раньше не было</li>
			<li class="next">Мощный инструмент, ограничение - ваша фантазия</li>
			<li class="next">Не бойтесь использовать!</li>
		</ul>

		<div class="next">
			--baseColor = <input id="example1__input" style="height: 30px; background: inherit; font-size: 20px; color: inherit; border: none" value="#fff" type="text" />
		</div>
		</div>
	</section>

	<section class="slide">
		<h2>Кастомные свойства</h2>
		<h3>Какие проблемы решают:<h3>
		<ul>
			<li class="next">Уменьшение количества повторяющегося кода в CSS</li>
			<li class="next">Гибкость и управляемость кода</li>
			<li class="next">Cоздание впечатляющих эффектов (смены тем на лету) - !</li>
			<li class="next">Название содержит семантическую информацию</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Кастомные свойства</h2>
		<h3>Поддержка</h3>
		<img style="height: 290px" src="pictures/cp_canIuse.png" />
	</section>
	<section class="slide">
		<h2>Кастомные свойства</h2>
		<pre>
			<code>:root {</code>
			<code class="mark">  --main-bg-color: brown;</code>
			<code>}</code>
			<code> </code>
			<code>body {</code>
  			<code  class="mark">	background-color: <span>var(--main-bg-color);<span></code>
			<code>}</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Кастомные свойства. Js</h2>
		<pre>
			<code>var styles = getComputedStyle(document.documentElement);</code>
			<code>var value = String(styles.<mark class="important">getPropertyValue('--primary-color')</mark>).trim();</code>
			<code>styles.<mark class="important">setProperty('--primary-color', 'green')</mark>;</code>
		</pre>
	</section>


	<section class="slide">
		<h2>Кастомные свойства. Первые впечатления</h2>
		<div>
			<img src="pictures/What-Meme-13.jpg" style="float: left"/>
			<h3>Все круто, но</h3>
			<ul>
				<li class="next">Что за уродливый синтаксис?</li>
				<li class="next">В Sass уже есть переменные</li>
			</ul>
		</div>
	</section>
	<section class="slide" style="background: #ff2400; font-size: 60px; display: flex; align-items: center; ">
		<div> 
			Синтаксис
		</div>		
	</section>

	<section class="slide white">
		<h2><strike>$foo</strike></h2>
		<ul>
			<li>Допустимая лексема CSS.</li>
			<li><code>--variable:&nbsp;<mark>value</mark></code>.</li>
			<li>Fallback.</li>
		</ul>
		<footer class="footer">
			<ul>
				<li>Слово авторам спеки Табу Аткинсу и Дэвиду Глазману.</li>
				<li>$foo — неправильные аналогии с переменными ЯП и макросами препроцессоров, а это не то, чем являются пользовательские свойства:
					<ul>
						<li>Значение — набор допустимых лексем CSS, не предполагают частичную замену строк.</li>
						<li>Использование только на правой стороне декларации — неуместное ограничение для переменных или макросов.</li>
						<li>Необходим опциональный аргумент для механизма fallback'а.</li>
					</ul>
				</li>
			</ul>
		</footer>
	</section>

	<section class="slide" style="background: #ff2400; font-size: 60px; display: flex; align-items: center; ">
		<div> 
			Отличия от переменных в препроцессорах
		</div>		
	</section>

	<section class="slide">
			<ul>
				<li>Переменные препроцессоров — исчезают при сборке.</li>
				<li>CSS-переменные:
					<ul>
						<li>работают в runtime, доступны для чтения/изменения;</li>
						<li>живут в DOM'е, ограничены скоупом узла, наследуются до последнего потомка;</li>
						<li>учитывают каскад!</li>
					</ul>
				</li>
			</ul>
	</section>

	<section class="slide" style="background: #ff2400; font-size: 60px; display: flex; align-items: center; ">
		<div> 
			@media
		</div>		
	</section>

	<section class="slide">
		<h2>@media запросы<br/>
		<span style="color: red; font-size: 30px">Stylus</span></h2>
		<pre style="float: left">
			<code>gutter = 5px;</code>
			<code>@media (min-width: 100px) {</code>
			<code>  gutter = 20px;</code>
			<code>}</code>
			<code>.Container {</code>
			<code>  padding = gutter;</code>
			<code>}</code>
		</pre>

		<pre class="next" style="float: left; margin-left: 200px">
			<code>.Container {</code>
  			<code> padding: 5px;</code>
			<code>}</code>
		</pre>
	</section>

	<section class="slide">
		<h2>@media запросы<br/>
		<span style="color: red; font-size: 30px">Css переменные</span></h2>
		<pre>
			<code>:root {</code>
			<code>  --gutter: 5px;</code>
			<code>}</code>
			<code>@media (min-width: 100px) {</code>
			<code>  --gutter: 20px;</code>
			<code>}</code>
			<code>.Container {</code>
			<code>   padding: var(--gutter);</code>
			<code>}</code>
		</pre>
	</section>
<!--
	<section class="slide">
		<h2>@media запросы<br/>
		<span style="color: red; font-size: 30px">PostCss</span></h2>
		<pre>
			
			<code>.Container {</code>
			<code>	padding: 5px;</code>
			<code>}</code>
			<code>@media (min-width: 100px) {</code>
			<code>.Container {</code>
			<code>   padding: 20px;</code>
			<code>  }</code>
			<code>}</code>
		</pre>
	</section>
-->

	<section class="slide" style="background: #ff2400; font-size: 60px; display: flex; align-items: center; ">
		<div> 
			Каскад
		</div>		
	</section>

	<section class="slide">
		<h2>Что не могут препроцесорные переменные.<br/>
		<span style="color: red; font-size: 30px">Stylus</span></h2>
		<pre style="float: left">
			<code>titleColor = #fff;</code>
			<code>.title {</code>
			<code>  titleColor = #000</code>
			<code>}</code>
			<code>.sideBar .title {</code>
			<code>  color: --titleColor</code>
			<code>}</code>
		</pre>

		<pre class="next" style="float: left; margin-left: 200px">
			<code>.sideBar .title {</code>
  			<code>color: #fff;</code>
			<code>}</code>
		</pre>
		</pre>
	</section>

	<section class="slide">
		<h2>Что не могут препроцесорные переменные.<br/>
		<span style="color: red; font-size: 30px">Css переменные</span></h2>
		<pre style="float: left">
			<code>:root {</code>
			<code>  --titleColor: red;</code>
			<code>}</code>
			<code>.title {</code>
			<code>  color: var(--titleColor);</code>
			<code>}</code>
			<code>.sideBar {</code>
			<code>  --titleColor: blue;</code>
			<code>}</code>
		</pre>
	</section>

	<section class="slide" style="background: #ff2400; font-size: 60px; display: flex; align-items: center; ">
		<div> 
			Примеры использования
		</div>		
	</section>

	<section class="slide">
		<h2>Яндекс. Главная страница поиска</h2>
		<p>Для чего используются css переменные</p>
		<ul>
			<li>Эксперементы</li>
			<li>Контроль над цветом</li>
			<li>Возможность изменять константы менеджерам</li>
		</ul>
	</section>
	
	<section class="slide white">
		<h2>Рекомендации</h2>
		<ul>
			<li class="next"><code>:root</code></li>
			<li class="next"><code>var(--property, fallback)</code></li>
			<li class="next"><code>@supports</code></li>
			<li class="next"><code>--property-calc</code></li>
			<li class="next"><code>initial</code></li>
		</ul>
	</section>

	<section class="slide" style="background: #ff2400; font-size: 60px; display: flex; align-items: center; ">
		<div> 
			@apply
		</div>		
	</section>
	<section class="slide">
		<h2>@apply</h2>
 		<ul>
			<li class="next">Аналог миксина</li>
			<li class="next">Позволяет подключать набор свойств</li>
			<li class="next">Синтаксис как у кастомных свойств, только с "{ }"</li>
		</ul>
	</section>
	<section class="slide">
		<h2>@apply</h2>
		<img class="next" src="pictures/apply.jpg" style="height: 450px"/>
	</section>

	<section class="slide">
		<h2>Выводы</h2>
		<ul>
			<li>Фичи из препроцессоров внедряются в CSS</li>
			<li>Css переменные - мощный инструмент!</li>
			<li>Не надо бояться использовать CSS переменные</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Ссылки</h2>
		<ol>
			<li>http://frontender.info/css-variables-why-should-you-care/</li>
			<li>http://philipwalton.com/articles/why-im-excited-about-native-css-variables/</li>
			<li>https://blog.gospodarets.com/css_properties_in_depth</li>
			<li>https://tabatkins.github.io/specs/css-apply-rule/</li>
			<li>https://blog.gospodarets.com/css_apply_rule?utm_source=CSS-Weekly&utm_campaign=Issue-211&utm_medium=email</li>

		</ol>
	</section>  
	<section class="slide" id="see-more">
		<h2 class="shout">
			Спасибо!
		</h2>
		<style>
			#see-more h2 {
				font-size:100px
				}
			#see-more img {
				width:0.72em;
				height:0.72em;
				}
		</style>
	</section>
	<p class="badge">
		<a href="https://github.com/shower/shower">Fork me on GitHub</a>
	</p>
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"></div>
	<script src="shower/shower.min.js"></script>
	<!-- Copyright © 2015 Yours Truly, Famous Inc. -->
	<!-- Photos by John Carey, fiftyfootshadows.net -->
</body>
</html>
